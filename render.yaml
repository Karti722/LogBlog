# Render.yaml - Deployment configuration for ML-based LogBlog
# This file configures your Render services for the ML-based tutorial generator

services:
  - type: web
    name: logblog-app
    env: python
    buildCommand: "./build.sh"
    startCommand: "cd backend && gunicorn backend.wsgi:application --bind 0.0.0.0:$PORT"
    envVars:
      - key: SECRET_KEY
        generateValue: true
      - key: DEBUG
        value: "False"
      - key: USE_ML_GENERATOR
        value: "True"
      - key: ML_MODEL_PATH
        value: "backend/ai_tutorial/models/"
      - key: ML_DEVICE
        value: "cpu"
      - key: FRONTEND_URL
        value: "https://logblog-app.onrender.com"
      - key: ALLOWED_HOSTS
        value: "logblog-app.onrender.com,localhost,127.0.0.1"

databases:
  - name: logblog-database
    databaseName: logblog_db
    user: logblog_user
